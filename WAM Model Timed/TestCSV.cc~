#include <stdio.h>
#include <vector>
#include <fstream>  
#include <sstream>
#include <stdlib.h>
#define NUMBER_OF_JOINTS_ON_ROBOT 7

using namespace std;
int main()
{
  ifstream joint_coordinate_commands;
  joint_coordinate_commands.open("forGazebo");
  
  vector< double > one_row_of_joint_commands;
  vector< vector< double > > all_joint_commands;
  
  string all_7_joints, each_joint;
  
  
  while (getline(joint_coordinate_commands, all_7_joints))  // This gets one line from forGazebo and stores it as all_7_joints
  {
    stringstream all_7_joints_stream(all_7_joints);
    while (getline(all_7_joints_stream, each_joint, ',')) //This reads from all_7_joints until it hits a comma. It stores the value in each_joint
    {
      one_row_of_joint_commands.push_back(atof(each_joint.c_str())); 
    }    
    all_joint_commands.push_back(one_row_of_joint_commands);
    one_row_of_joint_commands.clear();
  }
  
 // Display all the values you've obtained:
 
  for (vector< vector< double> >::iterator it = all_joint_commands.begin(); it != all_joint_commands.end(); ++it)
  {
    for (vector< double >::iterator itt = (*it).begin(); itt != (*it).end(); ++itt)
    {
      cout << (*itt) << " " ;
    }
    cout << endl;    
  }
  
  return 0;
}